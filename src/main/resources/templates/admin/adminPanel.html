<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
</head>
    <body th:align="middle">
        <form th:method="POST" th:action="@{/logout}" th:align="left">
            <input type="submit" value="Logout"/>
        </form>
        <h1>Admin Panel</h1>
        <div th:align="middle">
            <table th:border="1">
                <caption th:text="'All users'"></caption>
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Age</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
                <tr th:each="user : ${users}">
                    <th th:text="${user.getId()}"></th>
                    <th th:text="${user.getName()}"></th>
                    <th th:text="${user.getLastName()}"></th>
                    <th th:text="${user.getAge()}"></th>
                    <th th:text="${user.getEmail()}"></th>
                    <th th:text="${user.getRole()}"></th>
                    <th>
                        <form th:method="GET" th:action="@{/admin/{id}/edit(id=${user.getId()})}">
                            <input type="submit" value="Edit"/>
                        </form>

                    </th>
                    <th>
                        <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
                            <input type="submit" value="Delete"/>
                        </form>
                    </th>
                </tr>
            </table>
        </div>
        <br>
        <div>
            <form th:method="GET" th:action="@{/admin/new}">
                <input type="submit" value="New user"/>
            </form>
        </div>
    </body>
</html>